# Codebase Research Agent - Usage Guide

## üéØ WHEN to Use the Codebase Research Agent

### Primary Scenarios

**üîç BEFORE ANY DEVELOPMENT WORK**:
- Starting implementation of a new feature
- Planning architectural changes or refactoring
- Understanding how existing systems work
- Investigating integration patterns between services

**üèóÔ∏è ARCHITECTURAL ANALYSIS**:
- "How does the agent hierarchy system work?"
- "What's the deployment workflow for framework templates?"
- "How are PM orchestrator and agent prompt builder integrated?"
- "What's the relationship between services in the system?"

**üìã BUSINESS LOGIC UNDERSTANDING**:
- Understanding the framework's core orchestration patterns
- Learning about Task Tool delegation workflows
- Analyzing multi-agent coordination strategies
- Investigating performance optimization techniques

**üîß IMPLEMENTATION GUIDANCE**:
- Before adding new services or components
- When extending existing agent functionality
- Understanding configuration and deployment patterns
- Learning testing and validation strategies

### Specific Use Cases

**Feature Development Planning**:
```
**Codebase Researcher**: Analyze existing authentication patterns in the framework

TEMPORAL CONTEXT: Today is 2025-07-15. Need to understand current auth patterns before implementing new JWT system.

**Task**: Research existing authentication and security patterns
1. Analyze current security agent integration patterns
2. Document existing authentication workflows if any
3. Identify integration points with other services
4. Recommend implementation approach based on framework patterns
```

**Service Integration Research**:
```
**Codebase Researcher**: How does SharedPromptCache integrate with AgentRegistry?

TEMPORAL CONTEXT: Today is 2025-07-15. Planning to optimize agent loading performance.

**Task**: Analyze SharedPromptCache and AgentRegistry integration
1. Document current integration patterns and APIs
2. Explain performance optimization techniques used
3. Identify opportunities for further optimization
4. Provide implementation guidance for similar integrations
```

**Deployment Analysis**:
```
**Codebase Researcher**: Explain the framework template deployment process

TEMPORAL CONTEXT: Today is 2025-07-15. Need to understand deployment before making template changes.

**Task**: Document framework template deployment workflow
1. Analyze Parent Directory Manager and template processing
2. Explain protection mechanisms and backup systems
3. Document version checking and integrity validation
4. Provide guidance for safe template modifications
```

## üéì WHY the Codebase Research Agent Exists

### Knowledge Acceleration

**ELIMINATES REPETITIVE RESEARCH**: Instead of manually exploring the codebase for common questions, get instant, comprehensive answers about:
- Framework architecture and design decisions
- Service implementation patterns and best practices  
- Deployment workflows and configuration management
- Agent orchestration and hierarchy systems

**PREVENTS REINVENTION**: Understand existing patterns before implementing new features to:
- Avoid duplicating existing functionality
- Follow established architectural conventions
- Leverage existing optimization techniques
- Maintain consistency with framework design

**REDUCES ONBOARDING TIME**: For new contributors or when taking over development:
- Instant access to architectural knowledge
- Understanding of business logic and workflows
- Context about design decisions and trade-offs
- Guidance on development best practices

### Specialized Framework Knowledge

**EMBEDDED EXPERTISE**: Contains complete knowledge of Claude PM Framework v0.9.0:
- 9 core agent types and their integration patterns
- Two-tier agent hierarchy with directory precedence
- SharedPromptCache performance optimization (99.7% improvement)
- Task Tool delegation formats and multi-agent coordination
- Version management and semantic versioning strategies

**FRAMEWORK-SPECIFIC GUIDANCE**: Unlike general research, provides specific insights about:
- Agent registry implementation patterns (ISS-0118)
- PM orchestrator and agent prompt builder integration
- Framework template protection and deployment systems
- Performance optimization techniques and caching strategies

## üìö WHAT the Codebase Research Agent Does

### Core Capabilities

**üèóÔ∏è ARCHITECTURAL ANALYSIS**:
- **Service Relationship Mapping**: Explains how services integrate and communicate
- **Design Pattern Documentation**: Identifies and explains architectural patterns used
- **Integration Point Analysis**: Documents APIs and integration patterns between components
- **Performance Pattern Recognition**: Identifies optimization techniques and bottlenecks

**üìã BUSINESS LOGIC EXPLANATION**:
- **Workflow Documentation**: Explains orchestrated development workflows and agent coordination
- **Decision Tree Analysis**: Documents decision-making patterns in the framework
- **Authority Scope Mapping**: Explains which agents have authority over which operations
- **Escalation Pattern Documentation**: When and how to escalate between agents

**üîß IMPLEMENTATION GUIDANCE**:
- **Pattern-Based Recommendations**: Suggests implementation approaches based on existing patterns
- **Convention Documentation**: Explains coding conventions and organizational patterns
- **Configuration Guidance**: Documents configuration management and deployment patterns
- **Testing Strategy Recommendations**: Suggests testing approaches per component type

**üìä OPERATIONAL INSIGHTS**:
- **Performance Analysis**: Documents optimization techniques and performance patterns
- **Security Pattern Documentation**: Explains security mechanisms and protection systems
- **Monitoring Strategy Guidance**: Documents health checking and monitoring patterns
- **Deployment Process Documentation**: Explains deployment workflows and safety mechanisms

### Specific Knowledge Areas

**AGENT SYSTEM ARCHITECTURE**:
- 9 mandatory core agent types and their roles
- Two-tier hierarchy (System ‚Üí User) with directory precedence
- Agent registry and specialized agent discovery (ISS-0118)
- Task Tool integration and delegation patterns
- Multi-agent coordination workflows ("push", "deploy", "publish")

**CORE SERVICES INTEGRATION**:
- PM Orchestrator and AgentPromptBuilder integration
- SharedPromptCache performance optimization (99.7% improvement)
- Parent Directory Manager and framework template protection
- Health Monitor and performance tracking systems
- Memory collection and pattern analysis services

**DEPLOYMENT AND CONFIGURATION**:
- Framework template system and variable substitution
- CLI deployment and script management
- NPM package installation and postinstall workflows
- Directory structure setup and agent hierarchy validation
- Version management and semantic versioning coordination

**PERFORMANCE OPTIMIZATION**:
- SharedPromptCache integration patterns (<50ms agent loading)
- Agent discovery optimization (<100ms for typical project)
- Memory pattern collection and async service integration
- Cache hit ratio optimization (>95% for repeated queries)
- Template variable substitution caching

### Output Formats

**ARCHITECTURAL DOCUMENTATION**:
- Service relationship diagrams and integration explanations
- Design pattern documentation with examples
- Performance optimization guidance with benchmarks
- Security pattern documentation with implementation details

**IMPLEMENTATION GUIDANCE**:
- Step-by-step implementation recommendations
- Code organization advice following framework conventions
- Configuration examples and best practices
- Testing strategy recommendations with examples

**OPERATIONAL INSIGHTS**:
- Deployment workflow documentation with safety checks
- Monitoring and health check implementation guidance
- Troubleshooting guides for common issues
- Performance optimization opportunities and techniques

### Integration with Other Agents

**PM ORCHESTRATOR SUPPORT**:
- Provides architectural context for Task Tool delegation decisions
- Informs agent selection based on codebase patterns
- Supplies framework knowledge for multi-agent workflow coordination

**ENGINEER AGENT COLLABORATION**:
- Provides implementation guidance and pattern analysis
- Supplies architectural context for development decisions
- Offers best practice recommendations based on framework conventions

**DOCUMENTATION AGENT INTEGRATION**:
- Supplies framework knowledge for documentation pattern analysis
- Provides architectural context for operational documentation
- Informs changelog generation with business logic impact analysis

**QUALITY ASSURANCE SUPPORT**:
- Testing strategy guidance based on framework patterns
- Quality validation recommendations per component type
- Performance testing guidance with benchmark expectations

---

## üöÄ Getting Started

### First-Time Usage

1. **Ask Architectural Questions**: Start with high-level questions about framework design
2. **Request Implementation Guidance**: Get specific advice for your development task
3. **Understand Integration Patterns**: Learn how services work together
4. **Follow Framework Conventions**: Ensure consistency with existing patterns

### Best Practices

**ALWAYS CONSULT FIRST**: Before any development work, ask the Codebase Research Agent about existing patterns and architectural decisions.

**BE SPECIFIC**: Ask detailed questions about the specific area you're working on rather than general questions.

**REQUEST EXAMPLES**: Ask for specific examples and implementation patterns rather than just theoretical explanations.

**UNDERSTAND CONTEXT**: Get the "why" behind architectural decisions, not just the "what".

### Example Interaction Flow

1. **Research Question**: "How does the agent registry system work with SharedPromptCache?"
2. **Get Architecture Overview**: Understand the overall design and integration patterns
3. **Request Implementation Details**: Ask for specific APIs and implementation patterns
4. **Understand Performance Implications**: Learn about optimization techniques and benchmarks
5. **Apply Knowledge**: Use the guidance for your specific development task

---

**Remember**: The Codebase Research Agent is your first stop for understanding the Claude Multi-Agent PM Framework. It contains embedded knowledge of the entire codebase and can provide instant, comprehensive answers about architecture, implementation patterns, and best practices.