# Claude PM Framework - Staging Environment Configuration
# ========================================================

# =============================================
# FRAMEWORK PATHS (CRITICAL - M01-039)
# =============================================

# Claude PM Root Directory
# Staging should mirror production paths when possible
# Examples:
#   CLAUDE_PM_ROOT=/opt/staging/claude-pm
#   CLAUDE_PM_ROOT=/srv/staging/claude-pm
#   CLAUDE_PM_ROOT=/usr/local/staging/claude-pm
CLAUDE_PM_ROOT=/opt/staging/claude-pm

# =============================================
# ENVIRONMENT SETTINGS
# =============================================

# Environment type
ENVIRONMENT=staging
DEBUG=false
VERBOSE=true

# Logging configuration (verbose for debugging)
CLAUDE_PM_LOG_LEVEL=INFO
CLAUDE_PM_LOG_FORMAT="%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# =============================================
# SERVICE CONFIGURATION
# =============================================

# Health monitoring (production-like)
CLAUDE_PM_ENABLE_HEALTH_MONITORING=true
CLAUDE_PM_HEALTH_CHECK_INTERVAL=60
CLAUDE_PM_ENABLE_METRICS=true
CLAUDE_PM_METRICS_INTERVAL=120

# Service management
CLAUDE_PM_GRACEFUL_SHUTDOWN_TIMEOUT=45
CLAUDE_PM_STARTUP_TIMEOUT=90

# =============================================
# MEM0AI INTEGRATION
# =============================================

# mem0AI Service Configuration
MEM0AI_HOST=localhost
MEM0AI_PORT=8002
MEM0AI_TIMEOUT=45

# mem0AI Service Authentication (staging API key)
MEM0AI_API_KEY=REPLACE_WITH_STAGING_API_KEY

# Security Configuration (production-like)
MEM0AI_USE_TLS=true
MEM0AI_VERIFY_SSL=true
MEM0AI_AUTH_RETRY_ATTEMPTS=3
MEM0AI_AUTH_RETRY_DELAY=1.5

# =============================================
# STAGING FEATURES
# =============================================

# Enable staging monitoring
CLAUDE_PM_ENABLE_ALERTING=true
CLAUDE_PM_ALERT_THRESHOLD=70

# Staging mode settings (balanced)
CLAUDE_PM_DEBUG=false
CLAUDE_PM_VERBOSE=true

# =============================================
# GITHUB INTEGRATION
# =============================================

# GitHub configuration for staging
GITHUB_OWNER=REPLACE_WITH_GITHUB_USERNAME
GITHUB_TOKEN=REPLACE_WITH_STAGING_GITHUB_TOKEN

# =============================================
# DATABASE & STORAGE (STAGING)
# =============================================

# Use production-like database setup
# SQLite is used by default for LangGraph checkpointing
# Test with same database type as production

# =============================================
# NETWORKING (STAGING)
# =============================================

# Dashboard (staging ports)
CLAUDE_PM_DASHBOARD_PORT=7002

# API endpoints (staging ports)  
CLAUDE_PM_API_PORT=8002

# Health check endpoint
CLAUDE_PM_HEALTH_ENDPOINT=/health

# =============================================
# MONITORING & ALERTING (STAGING)
# =============================================

# Email alerts - configure for staging team
CLAUDE_PM_EMAIL_ALERTS=true
CLAUDE_PM_SMTP_HOST=smtp.yourdomain.com
CLAUDE_PM_SMTP_PORT=587
CLAUDE_PM_SMTP_USER=claude-pm-staging@yourdomain.com
CLAUDE_PM_SMTP_PASS=REPLACE_WITH_STAGING_SMTP_PASSWORD
CLAUDE_PM_EMAIL_FROM=claude-pm-staging@yourdomain.com
CLAUDE_PM_EMAIL_TO=staging-team@yourdomain.com

# Slack alerts - staging channel
CLAUDE_PM_SLACK_ALERTS=true
CLAUDE_PM_SLACK_WEBHOOK=REPLACE_WITH_STAGING_SLACK_WEBHOOK

# =============================================
# FEATURE FLAGS (STAGING)
# =============================================

# Enable new features for testing
CLAUDE_PM_EXPERIMENTAL_FEATURES=true
CLAUDE_PM_LANGGRAPH_ENABLED=true
CLAUDE_PM_MULTI_AGENT_PARALLEL=true

# Performance tuning (production-like)
CLAUDE_PM_MAX_WORKERS=4
CLAUDE_PM_MEMORY_LIMIT=1GB
CLAUDE_PM_TASK_TIMEOUT=450

# =============================================
# SECURITY (STAGING)
# =============================================

# Production-like security
CLAUDE_PM_SECURITY_MODE=staging
CLAUDE_PM_CORS_ENABLED=true
CLAUDE_PM_CORS_ORIGINS=https://staging.yourdomain.com

# Session configuration
CLAUDE_PM_SESSION_SECRET=REPLACE_WITH_STAGING_SECRET_32_CHARS_MIN
CLAUDE_PM_SESSION_TIMEOUT=3600

# SSL/TLS Configuration (test certificates)
CLAUDE_PM_SSL_ENABLED=true
CLAUDE_PM_SSL_CERT_PATH=/etc/ssl/claude-pm-staging/cert.pem
CLAUDE_PM_SSL_KEY_PATH=/etc/ssl/claude-pm-staging/key.pem

# =============================================
# TESTING & QA
# =============================================

# Test data configuration
CLAUDE_PM_TEST_DATA_ENABLED=true
CLAUDE_PM_TEST_USER_EMAILS=qa@yourdomain.com,test@yourdomain.com

# Performance testing
CLAUDE_PM_LOAD_TESTING=false
CLAUDE_PM_MAX_TEST_LOAD=50

# Feature toggles for testing
CLAUDE_PM_BETA_FEATURES=true
CLAUDE_PM_A_B_TESTING=true

# =============================================
# BACKUP & RECOVERY (STAGING)
# =============================================

# Backup configuration (reduced frequency)
CLAUDE_PM_BACKUP_ENABLED=true
CLAUDE_PM_BACKUP_INTERVAL=43200  # 12 hours
CLAUDE_PM_BACKUP_RETENTION=7     # 7 days
CLAUDE_PM_BACKUP_PATH=/var/backups/claude-pm-staging

# =============================================
# PERFORMANCE MONITORING
# =============================================

# Performance monitoring for staging
CLAUDE_PM_PERF_MONITORING=true
CLAUDE_PM_TRACE_ENABLED=true
CLAUDE_PM_METRICS_EXPORT=true

# Resource limits
CLAUDE_PM_MAX_MEMORY_MB=1024
CLAUDE_PM_MAX_CPU_PERCENT=80

# =============================================
# DEPLOYMENT TESTING
# =============================================

# Blue-green deployment testing
CLAUDE_PM_DEPLOYMENT_MODE=blue_green
CLAUDE_PM_CANARY_ENABLED=true
CLAUDE_PM_ROLLBACK_ENABLED=true

# Health check configuration
CLAUDE_PM_HEALTH_CHECK_TIMEOUT=30
CLAUDE_PM_READINESS_TIMEOUT=60

# =============================================
# STAGING NOTES
# =============================================

# 1. This environment should closely mirror production
# 2. Use for final testing before production deployment
# 3. Test all production features and configurations
# 4. Validate backup and recovery procedures
# 5. Test monitoring and alerting systems
# 6. Verify SSL/TLS configuration
# 7. Validate environment variable handling
# 8. Test CLAUDE_PM_ROOT path changes
# 9. Verify performance under load
# 10. Test disaster recovery scenarios